"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/blogs";
exports.ids = ["pages/api/blogs"];
exports.modules = {

/***/ "mongoose":
/*!***************************!*\
  !*** external "mongoose" ***!
  \***************************/
/***/ ((module) => {

module.exports = require("mongoose");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "slugify":
/*!**************************!*\
  !*** external "slugify" ***!
  \**************************/
/***/ ((module) => {

module.exports = require("slugify");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fblogs&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cblogs%5Cindex.js&middlewareConfigBase64=e30%3D!":
/*!************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fblogs&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cblogs%5Cindex.js&middlewareConfigBase64=e30%3D! ***!
  \************************************************************************************************************************************************************************************************************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_blogs_index_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\blogs\\index.js */ \"(api)/./pages/api/blogs/index.js\");\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_blogs_index_js__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_blogs_index_js__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/blogs\",\n        pathname: \"/api/blogs\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_blogs_index_js__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRmJsb2dzJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUNibG9ncyU1Q2luZGV4LmpzJm1pZGRsZXdhcmVDb25maWdCYXNlNjQ9ZTMwJTNEISIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7OztBQUFzRztBQUN2QztBQUNMO0FBQzFEO0FBQzBEO0FBQzFEO0FBQ0EsaUVBQWUsd0VBQUssQ0FBQyxzREFBUSxZQUFZLEVBQUM7QUFDMUM7QUFDTyxlQUFlLHdFQUFLLENBQUMsc0RBQVE7QUFDcEM7QUFDTyx3QkFBd0IsZ0hBQW1CO0FBQ2xEO0FBQ0EsY0FBYyx5RUFBUztBQUN2QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMLFlBQVk7QUFDWixDQUFDOztBQUVEIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbmV4dGpzLWJsb2cvP2E2ZWUiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgUGFnZXNBUElSb3V0ZU1vZHVsZSB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1tb2R1bGVzL3BhZ2VzLWFwaS9tb2R1bGUuY29tcGlsZWRcIjtcbmltcG9ydCB7IFJvdXRlS2luZCB9IGZyb20gXCJuZXh0L2Rpc3Qvc2VydmVyL2Z1dHVyZS9yb3V0ZS1raW5kXCI7XG5pbXBvcnQgeyBob2lzdCB9IGZyb20gXCJuZXh0L2Rpc3QvYnVpbGQvdGVtcGxhdGVzL2hlbHBlcnNcIjtcbi8vIEltcG9ydCB0aGUgdXNlcmxhbmQgY29kZS5cbmltcG9ydCAqIGFzIHVzZXJsYW5kIGZyb20gXCIuL3BhZ2VzXFxcXGFwaVxcXFxibG9nc1xcXFxpbmRleC5qc1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL2Jsb2dzXCIsXG4gICAgICAgIHBhdGhuYW1lOiBcIi9hcGkvYmxvZ3NcIixcbiAgICAgICAgLy8gVGhlIGZvbGxvd2luZyBhcmVuJ3QgdXNlZCBpbiBwcm9kdWN0aW9uLlxuICAgICAgICBidW5kbGVQYXRoOiBcIlwiLFxuICAgICAgICBmaWxlbmFtZTogXCJcIlxuICAgIH0sXG4gICAgdXNlcmxhbmRcbn0pO1xuXG4vLyMgc291cmNlTWFwcGluZ1VSTD1wYWdlcy1hcGkuanMubWFwIl0sIm5hbWVzIjpbXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fblogs&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cblogs%5Cindex.js&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./lib/dbConnect.js":
/*!**************************!*\
  !*** ./lib/dbConnect.js ***!
  \**************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst MONGODB_URI = process.env.MONGODB_URI;\nif (!MONGODB_URI) throw new Error(\"Define MONGODB_URI in .env.local\");\nlet cached = global.mongoose;\nif (!cached) cached = global.mongoose = {\n    conn: null,\n    promise: null\n};\nasync function dbConnect() {\n    if (cached.conn) return cached.conn;\n    if (!cached.promise) {\n        cached.promise = mongoose__WEBPACK_IMPORTED_MODULE_0___default().connect(MONGODB_URI, {\n            useNewUrlParser: true,\n            useUnifiedTopology: true\n        }).then((m)=>m);\n    }\n    cached.conn = await cached.promise;\n    return cached.conn;\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = (dbConnect);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9saWIvZGJDb25uZWN0LmpzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUFnQztBQUVoQyxNQUFNQyxjQUFjQyxRQUFRQyxHQUFHLENBQUNGLFdBQVc7QUFDM0MsSUFBSSxDQUFDQSxhQUFhLE1BQU0sSUFBSUcsTUFBTTtBQUVsQyxJQUFJQyxTQUFTQyxPQUFPTixRQUFRO0FBQzVCLElBQUksQ0FBQ0ssUUFBUUEsU0FBU0MsT0FBT04sUUFBUSxHQUFHO0lBQUVPLE1BQU07SUFBTUMsU0FBUztBQUFLO0FBRXBFLGVBQWVDO0lBQ2IsSUFBSUosT0FBT0UsSUFBSSxFQUFFLE9BQU9GLE9BQU9FLElBQUk7SUFDbkMsSUFBSSxDQUFDRixPQUFPRyxPQUFPLEVBQUU7UUFDbkJILE9BQU9HLE9BQU8sR0FBR1IsdURBQWdCLENBQUNDLGFBQWE7WUFDN0NVLGlCQUFpQjtZQUNqQkMsb0JBQW9CO1FBQ3RCLEdBQUdDLElBQUksQ0FBQ0MsQ0FBQUEsSUFBS0E7SUFDZjtJQUNBVCxPQUFPRSxJQUFJLEdBQUcsTUFBTUYsT0FBT0csT0FBTztJQUNsQyxPQUFPSCxPQUFPRSxJQUFJO0FBQ3BCO0FBRUEsaUVBQWVFLFNBQVNBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtYmxvZy8uL2xpYi9kYkNvbm5lY3QuanM/MWQzYiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgbW9uZ29vc2UgZnJvbSBcIm1vbmdvb3NlXCI7XHJcblxyXG5jb25zdCBNT05HT0RCX1VSSSA9IHByb2Nlc3MuZW52Lk1PTkdPREJfVVJJO1xyXG5pZiAoIU1PTkdPREJfVVJJKSB0aHJvdyBuZXcgRXJyb3IoXCJEZWZpbmUgTU9OR09EQl9VUkkgaW4gLmVudi5sb2NhbFwiKTtcclxuXHJcbmxldCBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2U7XHJcbmlmICghY2FjaGVkKSBjYWNoZWQgPSBnbG9iYWwubW9uZ29vc2UgPSB7IGNvbm46IG51bGwsIHByb21pc2U6IG51bGwgfTtcclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGRiQ29ubmVjdCgpIHtcclxuICBpZiAoY2FjaGVkLmNvbm4pIHJldHVybiBjYWNoZWQuY29ubjtcclxuICBpZiAoIWNhY2hlZC5wcm9taXNlKSB7XHJcbiAgICBjYWNoZWQucHJvbWlzZSA9IG1vbmdvb3NlLmNvbm5lY3QoTU9OR09EQl9VUkksIHtcclxuICAgICAgdXNlTmV3VXJsUGFyc2VyOiB0cnVlLFxyXG4gICAgICB1c2VVbmlmaWVkVG9wb2xvZ3k6IHRydWVcclxuICAgIH0pLnRoZW4obSA9PiBtKTtcclxuICB9XHJcbiAgY2FjaGVkLmNvbm4gPSBhd2FpdCBjYWNoZWQucHJvbWlzZTtcclxuICByZXR1cm4gY2FjaGVkLmNvbm47XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGRiQ29ubmVjdDtcclxuIl0sIm5hbWVzIjpbIm1vbmdvb3NlIiwiTU9OR09EQl9VUkkiLCJwcm9jZXNzIiwiZW52IiwiRXJyb3IiLCJjYWNoZWQiLCJnbG9iYWwiLCJjb25uIiwicHJvbWlzZSIsImRiQ29ubmVjdCIsImNvbm5lY3QiLCJ1c2VOZXdVcmxQYXJzZXIiLCJ1c2VVbmlmaWVkVG9wb2xvZ3kiLCJ0aGVuIiwibSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./lib/dbConnect.js\n");

/***/ }),

/***/ "(api)/./models/Post.js":
/*!************************!*\
  !*** ./models/Post.js ***!
  \************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! mongoose */ \"mongoose\");\n/* harmony import */ var mongoose__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(mongoose__WEBPACK_IMPORTED_MODULE_0__);\n\nconst PostSchema = new (mongoose__WEBPACK_IMPORTED_MODULE_0___default().Schema)({\n    title: {\n        type: String,\n        required: true\n    },\n    slug: {\n        type: String,\n        required: true,\n        unique: true\n    },\n    description: {\n        type: String,\n        required: true\n    },\n    content: {\n        type: String,\n        required: true\n    },\n    tags: {\n        type: [\n            String\n        ],\n        default: []\n    },\n    images: {\n        type: [\n            String\n        ],\n        default: []\n    },\n    publishDate: {\n        type: Date,\n        default: Date.now\n    },\n    published: {\n        type: Boolean,\n        default: true\n    }\n}, {\n    timestamps: true\n});\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((mongoose__WEBPACK_IMPORTED_MODULE_0___default().models).Post || mongoose__WEBPACK_IMPORTED_MODULE_0___default().model(\"Post\", PostSchema));\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9tb2RlbHMvUG9zdC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7QUFBZ0M7QUFFaEMsTUFBTUMsYUFBYSxJQUFJRCx3REFBZSxDQUFDO0lBQ3JDRyxPQUFPO1FBQUVDLE1BQU1DO1FBQVFDLFVBQVU7SUFBSztJQUN0Q0MsTUFBTTtRQUFFSCxNQUFNQztRQUFRQyxVQUFVO1FBQU1FLFFBQVE7SUFBSztJQUNuREMsYUFBYTtRQUFFTCxNQUFNQztRQUFRQyxVQUFVO0lBQUs7SUFDNUNJLFNBQVM7UUFBRU4sTUFBTUM7UUFBUUMsVUFBVTtJQUFLO0lBQ3hDSyxNQUFNO1FBQUVQLE1BQU07WUFBQ0M7U0FBTztRQUFFTyxTQUFTLEVBQUU7SUFBQztJQUNwQ0MsUUFBUTtRQUFFVCxNQUFNO1lBQUNDO1NBQU87UUFBRU8sU0FBUyxFQUFFO0lBQUM7SUFDdENFLGFBQWE7UUFBRVYsTUFBTVc7UUFBTUgsU0FBU0csS0FBS0MsR0FBRztJQUFDO0lBQzdDQyxXQUFXO1FBQUViLE1BQU1jO1FBQVNOLFNBQVM7SUFBSztBQUM1QyxHQUFHO0lBQUVPLFlBQVk7QUFBSztBQUV0QixpRUFBZW5CLHdEQUFlLENBQUNxQixJQUFJLElBQUlyQixxREFBYyxDQUFDLFFBQVFDLFdBQVdBLEVBQUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtYmxvZy8uL21vZGVscy9Qb3N0LmpzPzQ2YjYiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IG1vbmdvb3NlIGZyb20gXCJtb25nb29zZVwiO1xyXG5cclxuY29uc3QgUG9zdFNjaGVtYSA9IG5ldyBtb25nb29zZS5TY2hlbWEoe1xyXG4gIHRpdGxlOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBzbHVnOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUsIHVuaXF1ZTogdHJ1ZSB9LFxyXG4gIGRlc2NyaXB0aW9uOiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICBjb250ZW50OiB7IHR5cGU6IFN0cmluZywgcmVxdWlyZWQ6IHRydWUgfSxcclxuICB0YWdzOiB7IHR5cGU6IFtTdHJpbmddLCBkZWZhdWx0OiBbXSB9LFxyXG4gIGltYWdlczogeyB0eXBlOiBbU3RyaW5nXSwgZGVmYXVsdDogW10gfSxcclxuICBwdWJsaXNoRGF0ZTogeyB0eXBlOiBEYXRlLCBkZWZhdWx0OiBEYXRlLm5vdyB9LFxyXG4gIHB1Ymxpc2hlZDogeyB0eXBlOiBCb29sZWFuLCBkZWZhdWx0OiB0cnVlIH1cclxufSwgeyB0aW1lc3RhbXBzOiB0cnVlIH0pO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgbW9uZ29vc2UubW9kZWxzLlBvc3QgfHwgbW9uZ29vc2UubW9kZWwoXCJQb3N0XCIsIFBvc3RTY2hlbWEpO1xyXG4iXSwibmFtZXMiOlsibW9uZ29vc2UiLCJQb3N0U2NoZW1hIiwiU2NoZW1hIiwidGl0bGUiLCJ0eXBlIiwiU3RyaW5nIiwicmVxdWlyZWQiLCJzbHVnIiwidW5pcXVlIiwiZGVzY3JpcHRpb24iLCJjb250ZW50IiwidGFncyIsImRlZmF1bHQiLCJpbWFnZXMiLCJwdWJsaXNoRGF0ZSIsIkRhdGUiLCJub3ciLCJwdWJsaXNoZWQiLCJCb29sZWFuIiwidGltZXN0YW1wcyIsIm1vZGVscyIsIlBvc3QiLCJtb2RlbCJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./models/Post.js\n");

/***/ }),

/***/ "(api)/./pages/api/blogs/index.js":
/*!**********************************!*\
  !*** ./pages/api/blogs/index.js ***!
  \**********************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": () => (/* binding */ handler)\n/* harmony export */ });\n/* harmony import */ var _lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../../../lib/dbConnect */ \"(api)/./lib/dbConnect.js\");\n/* harmony import */ var _models_Post__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ../../../models/Post */ \"(api)/./models/Post.js\");\n/* harmony import */ var slugify__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! slugify */ \"slugify\");\n/* harmony import */ var slugify__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(slugify__WEBPACK_IMPORTED_MODULE_2__);\n\n\n\nasync function handler(req, res) {\n    const { method } = req;\n    await (0,_lib_dbConnect__WEBPACK_IMPORTED_MODULE_0__[\"default\"])();\n    if (method === \"GET\") {\n        const page = parseInt(req.query.page || \"1\", 10);\n        const limit = parseInt(req.query.limit || \"6\", 10);\n        const search = req.query.search || \"\";\n        const tag = req.query.tag || \"\";\n        const query = {\n            published: true\n        };\n        if (search) {\n            query.$or = [\n                {\n                    title: {\n                        $regex: search,\n                        $options: \"i\"\n                    }\n                },\n                {\n                    description: {\n                        $regex: search,\n                        $options: \"i\"\n                    }\n                }\n            ];\n        }\n        if (tag) query.tags = tag;\n        const skip = (page - 1) * limit;\n        const total = await _models_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].countDocuments(query);\n        const posts = await _models_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].find(query).sort({\n            publishDate: -1\n        }).skip(skip).limit(limit).lean();\n        return res.status(200).json({\n            success: true,\n            page,\n            limit,\n            total,\n            totalPages: Math.ceil(total / limit),\n            posts\n        });\n    }\n    if (method === \"POST\") {\n        try {\n            const { title, description, content, tags = [], images = [], publishDate, published } = req.body;\n            if (!title || !description || !content) return res.status(400).json({\n                success: false,\n                message: \"title, description, content required\"\n            });\n            let slug = slugify__WEBPACK_IMPORTED_MODULE_2___default()(title, {\n                lower: true,\n                strict: true\n            });\n            let counter = 1;\n            while(await _models_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].findOne({\n                slug\n            }))slug = `${slugify__WEBPACK_IMPORTED_MODULE_2___default()(title, {\n                lower: true,\n                strict: true\n            })}-${counter++}`;\n            const post = await _models_Post__WEBPACK_IMPORTED_MODULE_1__[\"default\"].create({\n                title,\n                slug,\n                description,\n                content,\n                tags,\n                images,\n                publishDate: publishDate ? new Date(publishDate) : new Date(),\n                published: published !== undefined ? !!published : true\n            });\n            return res.status(201).json({\n                success: true,\n                post\n            });\n        } catch (error) {\n            console.error(error);\n            return res.status(500).json({\n                success: false,\n                message: error.message\n            });\n        }\n    }\n    res.setHeader(\"Allow\", [\n        \"GET\",\n        \"POST\"\n    ]);\n    res.status(405).end(`Method ${method} Not Allowed`);\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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VixPQUFPO1lBQUM7UUFDdkU7SUFDRjtJQUVBaEMsSUFBSTRDLFNBQVMsQ0FBQyxTQUFTO1FBQUM7UUFBTztLQUFPO0lBQ3RDNUMsSUFBSXVCLE1BQU0sQ0FBQyxLQUFLc0IsR0FBRyxDQUFDLENBQUMsT0FBTyxFQUFFNUMsT0FBTyxZQUFZLENBQUM7QUFDcEQiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9uZXh0anMtYmxvZy8uL3BhZ2VzL2FwaS9ibG9ncy9pbmRleC5qcz9hYTEwIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCBkYkNvbm5lY3QgZnJvbSBcIi4uLy4uLy4uL2xpYi9kYkNvbm5lY3RcIjtcclxuaW1wb3J0IFBvc3QgZnJvbSBcIi4uLy4uLy4uL21vZGVscy9Qb3N0XCI7XHJcbmltcG9ydCBzbHVnaWZ5IGZyb20gXCJzbHVnaWZ5XCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBhc3luYyBmdW5jdGlvbiBoYW5kbGVyKHJlcSwgcmVzKSB7XHJcbiAgY29uc3QgeyBtZXRob2QgfSA9IHJlcTtcclxuICBhd2FpdCBkYkNvbm5lY3QoKTtcclxuXHJcbiAgaWYgKG1ldGhvZCA9PT0gXCJHRVRcIikge1xyXG4gICAgY29uc3QgcGFnZSA9IHBhcnNlSW50KHJlcS5xdWVyeS5wYWdlIHx8IFwiMVwiLCAxMCk7XHJcbiAgICBjb25zdCBsaW1pdCA9IHBhcnNlSW50KHJlcS5xdWVyeS5saW1pdCB8fCBcIjZcIiwgMTApO1xyXG4gICAgY29uc3Qgc2VhcmNoID0gcmVxLnF1ZXJ5LnNlYXJjaCB8fCBcIlwiO1xyXG4gICAgY29uc3QgdGFnID0gcmVxLnF1ZXJ5LnRhZyB8fCBcIlwiO1xyXG5cclxuICAgIGNvbnN0IHF1ZXJ5ID0geyBwdWJsaXNoZWQ6IHRydWUgfTtcclxuICAgIGlmIChzZWFyY2gpIHtcclxuICAgICAgcXVlcnkuJG9yID0gW1xyXG4gICAgICAgIHsgdGl0bGU6IHsgJHJlZ2V4OiBzZWFyY2gsICRvcHRpb25zOiBcImlcIiB9IH0sXHJcbiAgICAgICAgeyBkZXNjcmlwdGlvbjogeyAkcmVnZXg6IHNlYXJjaCwgJG9wdGlvbnM6IFwiaVwiIH0gfVxyXG4gICAgICBdO1xyXG4gICAgfVxyXG4gICAgaWYgKHRhZykgcXVlcnkudGFncyA9IHRhZztcclxuXHJcbiAgICBjb25zdCBza2lwID0gKHBhZ2UgLSAxKSAqIGxpbWl0O1xyXG4gICAgY29uc3QgdG90YWwgPSBhd2FpdCBQb3N0LmNvdW50RG9jdW1lbnRzKHF1ZXJ5KTtcclxuICAgIGNvbnN0IHBvc3RzID0gYXdhaXQgUG9zdC5maW5kKHF1ZXJ5KS5zb3J0KHsgcHVibGlzaERhdGU6IC0xIH0pLnNraXAoc2tpcCkubGltaXQobGltaXQpLmxlYW4oKTtcclxuXHJcbiAgICByZXR1cm4gcmVzLnN0YXR1cygyMDApLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBwYWdlLCBsaW1pdCwgdG90YWwsIHRvdGFsUGFnZXM6IE1hdGguY2VpbCh0b3RhbCAvIGxpbWl0KSwgcG9zdHMgfSk7XHJcbiAgfVxyXG5cclxuICBpZiAobWV0aG9kID09PSBcIlBPU1RcIikge1xyXG4gICAgdHJ5IHtcclxuICAgICAgY29uc3QgeyB0aXRsZSwgZGVzY3JpcHRpb24sIGNvbnRlbnQsIHRhZ3MgPSBbXSwgaW1hZ2VzID0gW10sIHB1Ymxpc2hEYXRlLCBwdWJsaXNoZWQgfSA9IHJlcS5ib2R5O1xyXG4gICAgICBpZiAoIXRpdGxlIHx8ICFkZXNjcmlwdGlvbiB8fCAhY29udGVudCkgcmV0dXJuIHJlcy5zdGF0dXMoNDAwKS5qc29uKHsgc3VjY2VzczogZmFsc2UsIG1lc3NhZ2U6IFwidGl0bGUsIGRlc2NyaXB0aW9uLCBjb250ZW50IHJlcXVpcmVkXCIgfSk7XHJcblxyXG4gICAgICBsZXQgc2x1ZyA9IHNsdWdpZnkodGl0bGUsIHsgbG93ZXI6IHRydWUsIHN0cmljdDogdHJ1ZSB9KTtcclxuICAgICAgbGV0IGNvdW50ZXIgPSAxO1xyXG4gICAgICB3aGlsZSAoYXdhaXQgUG9zdC5maW5kT25lKHsgc2x1ZyB9KSkgc2x1ZyA9IGAke3NsdWdpZnkodGl0bGUsIHsgbG93ZXI6IHRydWUsIHN0cmljdDogdHJ1ZSB9KX0tJHtjb3VudGVyKyt9YDtcclxuXHJcbiAgICAgIGNvbnN0IHBvc3QgPSBhd2FpdCBQb3N0LmNyZWF0ZSh7IHRpdGxlLCBzbHVnLCBkZXNjcmlwdGlvbiwgY29udGVudCwgdGFncywgaW1hZ2VzLCBwdWJsaXNoRGF0ZTogcHVibGlzaERhdGUgPyBuZXcgRGF0ZShwdWJsaXNoRGF0ZSkgOiBuZXcgRGF0ZSgpLCBwdWJsaXNoZWQ6IHB1Ymxpc2hlZCAhPT0gdW5kZWZpbmVkID8gISFwdWJsaXNoZWQgOiB0cnVlIH0pO1xyXG4gICAgICByZXR1cm4gcmVzLnN0YXR1cygyMDEpLmpzb24oeyBzdWNjZXNzOiB0cnVlLCBwb3N0IH0pO1xyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgY29uc29sZS5lcnJvcihlcnJvcik7XHJcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDUwMCkuanNvbih7IHN1Y2Nlc3M6IGZhbHNlLCBtZXNzYWdlOiBlcnJvci5tZXNzYWdlIH0pO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgcmVzLnNldEhlYWRlcihcIkFsbG93XCIsIFtcIkdFVFwiLCBcIlBPU1RcIl0pO1xyXG4gIHJlcy5zdGF0dXMoNDA1KS5lbmQoYE1ldGhvZCAke21ldGhvZH0gTm90IEFsbG93ZWRgKTtcclxufVxyXG4iXSwibmFtZXMiOlsiZGJDb25uZWN0IiwiUG9zdCIsInNsdWdpZnkiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwibWV0aG9kIiwicGFnZSIsInBhcnNlSW50IiwicXVlcnkiLCJsaW1pdCIsInNlYXJjaCIsInRhZyIsInB1Ymxpc2hlZCIsIiRvciIsInRpdGxlIiwiJHJlZ2V4IiwiJG9wdGlvbnMiLCJkZXNjcmlwdGlvbiIsInRhZ3MiLCJza2lwIiwidG90YWwiLCJjb3VudERvY3VtZW50cyIsInBvc3RzIiwiZmluZCIsInNvcnQiLCJwdWJsaXNoRGF0ZSIsImxlYW4iLCJzdGF0dXMiLCJqc29uIiwic3VjY2VzcyIsInRvdGFsUGFnZXMiLCJNYXRoIiwiY2VpbCIsImNvbnRlbnQiLCJpbWFnZXMiLCJib2R5IiwibWVzc2FnZSIsInNsdWciLCJsb3dlciIsInN0cmljdCIsImNvdW50ZXIiLCJmaW5kT25lIiwicG9zdCIsImNyZWF0ZSIsIkRhdGUiLCJ1bmRlZmluZWQiLCJlcnJvciIsImNvbnNvbGUiLCJzZXRIZWFkZXIiLCJlbmQiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/blogs/index.js\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fblogs&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cblogs%5Cindex.js&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();